set auto-load safe-path /
set disassembly-flavor intel
set disable-randomization off
set follow-fork-mode parent
set history filename ~/.gdb_history
set pagination off
set confirm off
set print pretty on
set print demangle
set print asm-demangle
set style enabled off
handle SIGALRM ignore
set debuginfod enabled on
alias -a rf = reverse-finish

define I
  shell gcc -g -fno-eliminate-unused-debug-types -x c -c -o /tmp/gdb $arg0
  add-symbol-file /tmp/gdb
  shell rm -f /tmp/gdb
end

define init-gef
  source ~/.config/gdb/gef.py
  gef config theme.registers_register_name "white"
  gef config theme.dereference_register_value "white"
  gef config context.nb_lines_backtrace 4
  gef config context.nb_lines_code 5
  gef config gef.disable_target_remote_overwrite True

  gef config context.clear_screen False
  gef config context.layout "regs stack code args memory threads trace"
end

# init-gef
